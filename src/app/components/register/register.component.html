<div class="d-flex justify-content-center align-items-center">
  <form
    [formGroup]="registerForm"
    (ngSubmit)="register()"
    class="p-4 d-flex justify-content-center align-items-center flex-column"
    [ngClass]="darkMode ? 'text-light bg-dark' : 'text-dark bg-light'"
  >
    <div class="mb-3 w-100">
      <input
        [ngClass]="
          darkMode
            ? 'bg-dark border-white text-white placeholder-white'
            : 'border-dark placeholder-dark'
        "
        [ngClass]="
          darkMode
            ? 'bg-dark border-white text-white placeholder-white'
            : 'border-dark placeholder-dark'
        "
        type="text"
        id="UserName"
        formControlName="UserName"
        class="form-control"
        placeholder="{{ 'LOGIN.USERNAME-FIELD' | translate }}"
      />
      <div
        *ngIf="UserName?.invalid && (UserName?.dirty || UserName?.touched)"
        class="text-danger mt-1"
      >
        <div *ngIf="UserName?.errors?.['required']">User Name is required.</div>
        <div *ngIf="UserName?.errors?.['minlength']">
          User Name must be at least 3 characters long.
        </div>
        <div *ngIf="UserName?.errors?.['maxlength']">
          User Name cannot be more than 50 characters long.
        </div>
      </div>
    </div>

    <div class="mb-3 w-100">
      <input
        [ngClass]="
          darkMode
            ? 'bg-dark border-white text-white placeholder-white'
            : 'border-dark placeholder-dark'
        "
        type="text"
        id="FirstName"
        formControlName="FirstName"
        class="form-control"
        placeholder="{{ 'LOGIN.FIRST-NAME-FIELD' | translate }}"
      />
      <div
        *ngIf="FirstName?.invalid && (FirstName?.dirty || FirstName?.touched)"
        class="text-danger mt-1"
      >
        <div *ngIf="FirstName?.errors?.['required']">
          First Name is required.
        </div>
        <div *ngIf="FirstName?.errors?.['minlength']">
          First Name must be at least 3 characters long.
        </div>
        <div *ngIf="FirstName?.errors?.['maxlength']">
          First Name cannot be more than 50 characters long.
        </div>
      </div>
    </div>

    <div class="mb-3 w-100">
      <input
        [ngClass]="
          darkMode
            ? 'bg-dark border-white text-white placeholder-white'
            : 'border-dark placeholder-dark'
        "
        type="text"
        id="LastName"
        formControlName="LastName"
        class="form-control"
        placeholder="{{ 'LOGIN.LAST-NAME-FIELD' | translate }}"
      />
      <div
        *ngIf="LastName?.invalid && (LastName?.dirty || LastName?.touched)"
        class="text-danger mt-1"
      >
        <div *ngIf="LastName?.errors?.['required']">Last Name is required.</div>
        <div *ngIf="LastName?.errors?.['minlength']">
          Last Name must be at least 3 characters long.
        </div>
        <div *ngIf="LastName?.errors?.['maxlength']">
          Last Name cannot be more than 50 characters long.
        </div>
      </div>
    </div>

    <div class="mb-3 w-100">
      <input
        [ngClass]="
          darkMode
            ? 'bg-dark border-white text-white placeholder-white'
            : 'border-dark placeholder-dark'
        "
        type="text"
        id="PhoneNumber"
        formControlName="PhoneNumber"
        class="form-control"
        placeholder="{{ 'LOGIN.PHONE-FIELD' | translate }}"
      />
      <div
        *ngIf="
          PhoneNumber?.invalid && (PhoneNumber?.dirty || PhoneNumber?.touched)
        "
        class="text-danger mt-1"
      >
        <div *ngIf="PhoneNumber?.errors?.['required']">
          Phone Number is required.
        </div>
      </div>
    </div>

    <div class="mb-3 w-100">
      <input
        [ngClass]="
          darkMode
            ? 'bg-dark border-white text-white placeholder-white'
            : 'border-dark placeholder-dark'
        "
        type="text"
        id="Address"
        formControlName="Address"
        class="form-control"
        placeholder="{{ 'LOGIN.ADDRESS-FIELD' | translate }}"
      />
      <div
        *ngIf="Address?.invalid && (Address?.dirty || Address?.touched)"
        class="text-danger mt-1"
      >
        <div *ngIf="Address?.errors?.['required']">Address is required.</div>
      </div>
    </div>

    <div class="mb-3 w-100">
      <input
        [ngClass]="
          darkMode
            ? 'bg-dark border-white text-white placeholder-white'
            : 'border-dark placeholder-dark'
        "
        type="date"
        id="BirthDate"
        formControlName="BirthDate"
        class="form-control"
      />
      <div
        *ngIf="BirthDate?.invalid && (BirthDate?.dirty || BirthDate?.touched)"
        class="text-danger mt-1"
      >
        <div *ngIf="BirthDate?.errors?.['required']">
          Birth Date is required.
        </div>
      </div>
    </div>

    <div class="mb-3 w-100">
      <input
        [ngClass]="
          darkMode
            ? 'bg-dark border-white text-white placeholder-white'
            : 'border-dark placeholder-dark'
        "
        type="email"
        id="Email"
        formControlName="Email"
        class="form-control"
        placeholder="{{ 'LOGIN.USER-FIELD' | translate }}"
      />
      <div
        *ngIf="Email?.invalid && (Email?.dirty || Email?.touched)"
        class="text-danger mt-1"
      >
        <div *ngIf="Email?.errors?.['required']">
          {{ "LOGIN.EMAIL-REQUIRED" | translate }}
        </div>
        <div *ngIf="Email?.errors?.['email']">
          {{ "LOGIN.EMAIL-PATTERN" | translate }}
        </div>
      </div>
    </div>

    <div class="mb-3 w-100">
      <div class="position-relative">
        <input
          [ngClass]="
            darkMode
              ? 'bg-dark border-white text-white placeholder-white'
              : 'border-dark placeholder-dark'
          "
          type="password"
          id="Password"
          formControlName="Password"
          class="form-control"
          placeholder="{{ 'LOGIN.PASSWORD-FIELD' | translate }}"
          name="password"
          #passwordInput
        />
        <i
          [ngClass]="showPassword ? 'bi bi-eye' : 'bi bi-eye-slash'"
          (click)="togglePasswordVisibility(passwordInput)"
          class="toggle-icon cursor-pointer position-absolute top-50 end-0 translate-middle-y me-2"
        ></i>
      </div>

      <div
        *ngIf="Password?.invalid && (Password?.dirty || Password?.touched)"
        class="text-danger mt-1"
      >
        <small *ngIf="Password?.errors?.['required']">
          {{ "LOGIN.PASSWORD-REQUIRED" | translate }}
        </small>
        <small *ngIf="Password?.errors?.['pattern']">
          Password should more than 8 letters and at least contan 1 capital
          letter - 1 small letter - 1 digits[0-9] - 1 [&#64;$!%*?&]
        </small>
      </div>
    </div>
    <div class="mb-3 w-100">
      <div class="position-relative">
        <input
          [ngClass]="
            darkMode
              ? 'bg-dark border-white text-white placeholder-white'
              : 'border-dark placeholder-dark'
          "
          type="password"
          id="ConfirmPassword"
          name="ConfirmPassword"
          formControlName="ConfirmPassword"
          class="form-control"
          placeholder="{{ 'LOGIN.CONFIRM-PASSWORD-FIELD' | translate }}"
          #confirmPasswordInput
        />
        <i
          [ngClass]="showConfirmPassword ? 'bi bi-eye' : 'bi bi-eye-slash'"
          (click)="togglePasswordVisibility(confirmPasswordInput)"
          class="toggle-icon cursor-pointer position-absolute top-50 end-0 translate-middle-y me-2"
        ></i>
      </div>

      <div
        *ngIf="ConfirmPassword?.touched && (ConfirmPassword?.invalid || registerForm.errors?.['passwordsDoNotMatch'])"
        class="text-danger mt-1"
      >
        <small *ngIf="ConfirmPassword?.errors?.['required']">
          Confirm Password is required
        </small>
        <small *ngIf="registerForm.errors?.['passwordsDoNotMatch']">
          {{ "LOGIN.PASSWORD-MISMATCH" | translate }}
        </small>
      </div>
    </div>

    <button
      type="submit"
      class="login-button"
      [ngClass]="{ 'bg-dark': !darkMode }"
      [disabled]="registerForm.invalid"
    >
      {{ "LOGIN.CREATE-ACCOUNT-BUTTON" | translate }}
    </button>
  </form>
</div>
<div class="helper-links">
  <a [ngClass]="darkMode ? 'text-light' : 'text-dark'" routerLink="/login">{{
    "LOGIN.LOGIN-BUTTON" | translate
  }}</a>
</div>
<div class="my-5 d-flex justify-content-center align-items-center flex-column">
  <h5 class="text-center">{{ "APP.SIGN-IN" | translate }}</h5>
  <button (click)="onGoogleLogin()" class="google-login-button my-3">
    <img src="google-icon-logo.svg" alt="Google" />
    <span>Sign in with Google</span>
  </button>
</div>
